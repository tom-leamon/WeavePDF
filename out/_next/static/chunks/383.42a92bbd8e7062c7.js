(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[383],{1175:function(e,n,t){"use strict";t.r(n);var r=t(2729),i=t(5893),a=t(7294),o=t(508),c=t(5687),l=t(9495),u=t(9299),d=t(7624);function s(){let e=(0,r._)(["\n    width: calc(100% - 2rem);\n    padding: 1rem;\n    position: sticky;\n    top: 0;\n    background: var(--F_Surface_0);\n    z-index: 2;\n  "]);return s=function(){return e},e}function f(){let e=(0,r._)(["\n    padding: 1rem;\n    width: calc(100% - 2rem);\n  "]);return f=function(){return e},e}function h(){let e=(0,r._)(["\n    width: 100%;\n  "]);return h=function(){return e},e}function g(){let e=(0,r._)(["\n    position: absolute;\n    bottom: .25rem;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n  "]);return g=function(){return e},e}function p(){let e=(0,r._)(["\n    padding: .25rem .75rem;\n    background: var(--F_Surface);\n    border-radius: .5rem;\n  "]);return p=function(){return e},e}function m(){let e=(0,r._)(["\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    padding-top: .5rem;\n    font-size: var(--F_Font_Size_Label);\n    color: var(--F_Font_Color_Label);\n  "]);return m=function(){return e},e}function x(){let e=(0,r._)(["\n    position: relative;\n    height: 100%;\n    width: 100%;\n    background: var(--F_Surface_0);\n  "]);return x=function(){return e},e}function P(){let e=(0,r._)(["\n    position: absolute;\n    top: .25rem;\n    right: .25rem;\n  "]);return P=function(){return e},e}function v(){let e=(0,r._)(["\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n    pointer-events: none;\n  "]);return v=function(){return e},e}function w(){let e=(0,r._)(["\n    background: var(--F_Primary);\n    width: 100%;\n    height: 100%;\n  "]);return w=function(){return e},e}u.GlobalWorkerOptions.workerSrc=d,n.default=()=>{let[e,n]=(0,a.useState)([]),[t,r]=(0,a.useState)(!1),o=(0,a.useRef)(null),d=async()=>{var e;let t=null===(e=o.current)||void 0===e?void 0:e.files;if(!t)return;r(!0);let i=[];for(let e=0;e<t.length;e++){let n=await t[e].arrayBuffer(),r=await l.PDFDocument.load(n),a=await u.getDocument({data:n}).promise,o=a.numPages;for(let n=1;n<=o;n++){let o="file-".concat(e,"-page-").concat(n),c=await a.getPage(n),l=c.getViewport({scale:1}),u=document.createElement("canvas");u.width=l.width,u.height=l.height;let d=u.getContext("2d");if(d){let e={canvasContext:d,viewport:l};await c.render(e).promise}i.push({pdfDoc:r,index:n-1,id:o,canvas:u,originalFileName:t[e].name,originalPageNumber:n})}}n(i),r(!1)},s=e=>{n(n=>n.filter(n=>n.id!==e))},f=async()=>{let n=await l.PDFDocument.create();for(let{pdfDoc:t,index:r}of e){let[e]=await n.copyPages(t,[r]);n.addPage(e)}let t=await n.save(),r=new Blob([t],{type:"application/pdf"}),i=URL.createObjectURL(r);window.open(i)};return(0,a.useEffect)(()=>(o.current&&o.current.addEventListener("change",d),()=>{o.current&&o.current.removeEventListener("change",d)}),[]),(0,i.jsxs)("div",{children:[(0,i.jsxs)(_.Header,{children:[(0,i.jsxs)(c.Zv,{children:[(0,i.jsx)(c.zx,{iconPrefix:"fas",icon:"file-circle-plus",text:"Add documents",secondary:!0,onClick:()=>o.current.click()}),t?(0,i.jsx)(c.TK,{small:!0}):null,(0,i.jsx)(c.LZ,{}),(0,i.jsx)(c.zx,{iconPrefix:"fas",icon:"file-circle-plus",text:"Download",secondary:!0,onClick:f})]}),(0,i.jsx)("input",{type:"file",ref:o,multiple:!0,hidden:!0})]}),(0,i.jsx)(_.Pages,{children:(0,i.jsx)(c.tm,{reorderId:"pages",maxItemWidth:14,gap:1,onChange:(e,t,r,i,a)=>{n(e=>[...(0,c.zX)(e,t,r)])},placeholder:(0,i.jsx)(_.Placeholder,{}),holdTime:50,children:e.map((e,n)=>{let{id:t,canvas:r,originalFileName:a,originalPageNumber:o}=e;return(0,i.jsxs)(_.Item,{children:[(0,i.jsx)(c.oM,{ratio:8.5/11,children:(0,i.jsxs)(_.Page,{children:[(0,i.jsx)(_.PagePreview,{src:r.toDataURL(),alt:t}),(0,i.jsx)(_.Close,{children:(0,i.jsx)(c.zx,{icon:"times",iconPrefix:"fas",circle:!0,onClick:()=>s(t)})}),(0,i.jsx)(_.Center,{children:(0,i.jsx)(_.PageNumber,{children:n+1})})]},t)}),(0,i.jsxs)(_.PageInfo,{children:[a," - page ",o]})]})})})})]})};let _={Header:o.ZP.div(s()),Pages:o.ZP.div(f()),Item:o.ZP.div(h()),Center:o.ZP.div(g()),PageNumber:o.ZP.div(p()),PageInfo:o.ZP.div(m()),Page:o.ZP.div(x()),Close:o.ZP.div(P()),PagePreview:o.ZP.img(v()),Placeholder:o.ZP.div(w())}},247:function(){},3414:function(){},172:function(){},2001:function(){},1895:function(){},2258:function(){}}]);